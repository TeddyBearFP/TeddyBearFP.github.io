<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>讀寫檔 | 泰迪熊的程式足跡</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前言讀寫檔驗證資料正確性與存取參數是很方便且常用的，寫成CSV，用excel繪圖看圖形趨勢是否如預期，二進位檔則是速度較快     文字檔 二進位檔     資料可讀性 易 難   資料輸入／輸出效率 差 佳   檔案空間大小 相較大 相較小   浮點數存取誤差 有 無    Qt取得檔案路徑到application同層中取得application(exe)路徑 12345#include &amp;lt">
<meta name="keywords" content="讀寫檔">
<meta property="og:type" content="article">
<meta property="og:title" content="讀寫檔">
<meta property="og:url" content="https://teddybearfp.github.io/2018/11/06/讀寫檔/index.html">
<meta property="og:site_name" content="泰迪熊的程式足跡">
<meta property="og:description" content="前言讀寫檔驗證資料正確性與存取參數是很方便且常用的，寫成CSV，用excel繪圖看圖形趨勢是否如預期，二進位檔則是速度較快     文字檔 二進位檔     資料可讀性 易 難   資料輸入／輸出效率 差 佳   檔案空間大小 相較大 相較小   浮點數存取誤差 有 無    Qt取得檔案路徑到application同層中取得application(exe)路徑 12345#include &amp;lt">
<meta property="og:locale" content="zh-tw">
<meta property="og:updated_time" content="2019-01-06T14:36:15.483Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="讀寫檔">
<meta name="twitter:description" content="前言讀寫檔驗證資料正確性與存取參數是很方便且常用的，寫成CSV，用excel繪圖看圖形趨勢是否如預期，二進位檔則是速度較快     文字檔 二進位檔     資料可讀性 易 難   資料輸入／輸出效率 差 佳   檔案空間大小 相較大 相較小   浮點數存取誤差 有 無    Qt取得檔案路徑到application同層中取得application(exe)路徑 12345#include &amp;lt">
  
    <link rel="alternate" href="/atom.xml" title="泰迪熊的程式足跡" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">泰迪熊的程式足跡</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">遊走程式森林的泰迪熊</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://teddybearfp.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-讀寫檔" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/06/讀寫檔/" class="article-date">
  <time datetime="2018-11-06T06:05:16.000Z" itemprop="datePublished">2018-11-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/其他/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      讀寫檔
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>讀寫檔驗證資料正確性與存取參數是很方便且常用的，寫成CSV，用excel繪圖看圖形趨勢是否如預期，二進位檔則是速度較快</p>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center">文字檔</th>
<th style="text-align:center">二進位檔</th>
</tr>
</thead>
<tbody>
<tr>
<td>資料可讀性</td>
<td style="text-align:center">易</td>
<td style="text-align:center">難</td>
</tr>
<tr>
<td>資料輸入／輸出效率</td>
<td style="text-align:center">差</td>
<td style="text-align:center">佳</td>
</tr>
<tr>
<td>檔案空間大小</td>
<td style="text-align:center">相較大</td>
<td style="text-align:center">相較小</td>
</tr>
<tr>
<td>浮點數存取誤差</td>
<td style="text-align:center">有</td>
<td style="text-align:center">無</td>
</tr>
</tbody>
</table>
<h2 id="Qt取得檔案路徑"><a href="#Qt取得檔案路徑" class="headerlink" title="Qt取得檔案路徑"></a>Qt取得檔案路徑</h2><h3 id="到application同層中"><a href="#到application同層中" class="headerlink" title="到application同層中"></a>到application同層中</h3><p>取得application(exe)路徑</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QGuiApplication&gt;</span></span></span><br><span class="line">QString path = QGuiApplication::applicationDirPath(); </span><br><span class="line"></span><br><span class="line"><span class="comment">//可以用加的方式為檔案命名:</span></span><br><span class="line">path += <span class="string">"/"</span> +serialNumber;</span><br></pre></td></tr></table></figure>
<h3 id="到application上一層"><a href="#到application上一層" class="headerlink" title="到application上一層"></a>到application上一層</h3><p>取得application(exe)上一層路徑</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QGuiApplication&gt;</span></span></span><br><span class="line">QString currentPath = QDir::currentPath();</span><br><span class="line"></span><br><span class="line"><span class="comment">//可以用加的方式為檔案命名:</span></span><br><span class="line">currentPath += <span class="string">"/"</span> +serialNumber;</span><br></pre></td></tr></table></figure>
<h3 id="檢查檔案是否存在"><a href="#檢查檔案是否存在" class="headerlink" title="檢查檔案是否存在"></a>檢查檔案是否存在</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QDir dir; </span><br><span class="line">QString currentPath = QDir::currentPath();</span><br><span class="line"><span class="keyword">if</span> (!serialNumber.isEmpty())&#123;    <span class="comment">//如果這個路徑不為空</span></span><br><span class="line">    <span class="keyword">if</span>(!dir.exists(currentPath)) &#123;      <span class="comment">//如果不存在這個檔案位置</span></span><br><span class="line">        dir.mkpath(currentPath);        <span class="comment">//創資料夾</span></span><br><span class="line">        qDebug()&lt;&lt;<span class="string">"directory now exists"</span>; </span><br><span class="line">        currentPath += <span class="string">"teddyBear.jpg"</span>;</span><br><span class="line">        QImage.save(currentPath,<span class="string">"JPG"</span>); <span class="comment">//將某個QImage存成</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="寫檔"><a href="#寫檔" class="headerlink" title="寫檔"></a>寫檔</h2><h3 id="Qt-截圖存檔-Timestamp"><a href="#Qt-截圖存檔-Timestamp" class="headerlink" title="Qt 截圖存檔(Timestamp)"></a>Qt 截圖存檔(Timestamp)</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//videocanvas.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QQuickItem&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoCanvas</span> :</span> <span class="keyword">public</span> QQuickItem</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    VideoCanvas();</span><br><span class="line">    <span class="function">Q_INVOKABLE <span class="keyword">void</span> <span class="title">screenshot</span><span class="params">(QQuickWindow *quic)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//videocanvas.cpp</span></span><br><span class="line"><span class="keyword">void</span> VideoCanvas::makedir(QString serialNumber) &#123;   <span class="comment">//傳欲創建資料夾名稱</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;serialNumber = serialNumber;</span><br><span class="line">    path = QGuiApplication::applicationDirPath();</span><br><span class="line">    currentPath =  QDir::currentPath();</span><br><span class="line">    QDir dir;</span><br><span class="line">    <span class="keyword">if</span> (!serialNumber.isEmpty()) &#123;</span><br><span class="line">        path += <span class="string">"/"</span> +serialNumber;</span><br><span class="line">        currentPath += <span class="string">"/"</span> +serialNumber +<span class="string">"/"</span>;</span><br><span class="line">        <span class="comment">//printf("the string path will be:%s\n", str);</span></span><br><span class="line">        <span class="keyword">if</span> (viewLog) &#123;</span><br><span class="line">            qDebug()&lt;&lt;<span class="string">"applicationDirPath:"</span>&lt;&lt;path;</span><br><span class="line">            qDebug()&lt;&lt;<span class="string">"currentPath:"</span>&lt;&lt;currentPath;</span><br><span class="line">            qDebug()&lt;&lt;<span class="string">"currentPathArray:"</span>&lt;&lt;currentPath;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!dir.exists(currentPath)) <span class="comment">//如果沒有這個資料夾</span></span><br><span class="line">        &#123;</span><br><span class="line">            dir.mkpath(currentPath); <span class="comment">//創建資料夾</span></span><br><span class="line">            <span class="keyword">if</span>(viewLog)</span><br><span class="line">                qDebug()&lt;&lt;<span class="string">"make directory successed!"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> VideoCanvas::screenshot(QQuickWindow *quic) &#123;  <span class="comment">//存取截圖檔名為Screenshot_時間</span></span><br><span class="line">    QImage img =quic-&gt;grabWindow();</span><br><span class="line">    <span class="keyword">time_t</span> t;</span><br><span class="line">    tm* local;</span><br><span class="line">    tm* gmt;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">128</span>]= &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    t = time(<span class="literal">NULL</span>);</span><br><span class="line">    local = localtime(&amp;t);</span><br><span class="line">    strftime(buf, <span class="number">64</span>, <span class="string">"%Y%m%d_%H%M%S"</span>, local);</span><br><span class="line">    <span class="built_in">strcat</span>(buf,<span class="string">".jpg"</span>);</span><br><span class="line">    <span class="keyword">char</span> fileName[<span class="number">128</span>]= &#123;<span class="string">"Screenshot_"</span>&#125;;</span><br><span class="line">    TempPath = currentPath;              <span class="comment">//makedir function中的currentPath</span></span><br><span class="line">    <span class="built_in">strcat</span>(fileName,buf);</span><br><span class="line">    <span class="keyword">if</span> (!serialNumber.isEmpty()) &#123;       <span class="comment">//放到創建的資料夾中</span></span><br><span class="line">        TempPath += (QString)fileName;</span><br><span class="line">        img.save(TempPath,<span class="string">"JPG"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        img.save(fileName,<span class="string">"JPG"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Screenshot.qml</span></span><br><span class="line"><span class="keyword">import</span> QtQuick <span class="number">2.9</span></span><br><span class="line"><span class="keyword">import</span> QtQuick.Window <span class="number">2.2</span></span><br><span class="line"><span class="keyword">import</span> QtQuick.Controls <span class="number">2.0</span></span><br><span class="line"><span class="keyword">import</span> VideoRenderView <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line">Window &#123;</span><br><span class="line">    id:window</span><br><span class="line">    VideoRenderView &#123;</span><br><span class="line">        id: videoRenderView</span><br><span class="line">        Button &#123;</span><br><span class="line">            width: <span class="number">160</span></span><br><span class="line">            height: <span class="number">65</span></span><br><span class="line">            Text &#123;</span><br><span class="line">                anchors.centerIn: parent</span><br><span class="line">                text: <span class="string">"Screen Shot"</span></span><br><span class="line">                font.pixelSize: <span class="number">16</span></span><br><span class="line">            &#125;</span><br><span class="line">            onclicked: &#123;</span><br><span class="line">                videoRenderView.screenshot(window)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="C-Write-CSV"><a href="#C-Write-CSV" class="headerlink" title="C Write CSV"></a>C Write CSV</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* fileName = <span class="string">"teddyBear.csv"</span>;</span><br><span class="line"></span><br><span class="line">FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">fp=fopen(fileName,<span class="string">"r"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(fp)                            <span class="comment">//如果檔案已經存在，則刪掉</span></span><br><span class="line">&#123;</span><br><span class="line">	fclose(fp);</span><br><span class="line">	remove(fileName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fp=fopen(fileName,<span class="string">"w"</span>);           <span class="comment">//寫檔w</span></span><br><span class="line"><span class="built_in">fprintf</span>(fp,<span class="string">"%s,%s\n"</span>,<span class="string">"X"</span>,<span class="string">"Y"</span>);    <span class="comment">//將第一列給個欄位名稱</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; dataLength ; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">fprintf</span>(fp,<span class="string">"%f,%f"</span>,X[i],Y[i]);</span><br><span class="line">	<span class="built_in">fprintf</span>(fp,<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fclose(fp);                       <span class="comment">//寫完關檔</span></span><br></pre></td></tr></table></figure>
<h3 id="Qt-Write-CSV"><a href="#Qt-Write-CSV" class="headerlink" title="Qt Write CSV"></a>Qt Write CSV</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">QString path = qApp-&gt;applicationDirPath() + <span class="string">"//"</span>+<span class="string">"ContoursXY.csv"</span>;</span><br><span class="line"><span class="function">QFile <span class="title">Rfile</span><span class="params">(path)</span></span>;</span><br><span class="line">QString line;</span><br><span class="line">Rfile.open(QIODevice::WriteOnly);</span><br><span class="line"><span class="function">QTextStream <span class="title">out</span><span class="params">(&amp;Rfile)</span></span>;</span><br><span class="line">out &lt;&lt; <span class="string">"X,Y\n"</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; dataLength ; i++) &#123;</span><br><span class="line">    qDebug()&lt;&lt;i;</span><br><span class="line">    qDebug()&lt;&lt;<span class="string">"(X["</span>&lt;&lt;i&lt;&lt;<span class="string">"],Y["</span>&lt;&lt;i&lt;&lt;<span class="string">"]):"</span>&lt;&lt; X[i] &lt;&lt;<span class="string">","</span>&lt;&lt; Y[i];</span><br><span class="line">    line += QString::number(X[i])+<span class="string">","</span>+QString::number(Y[i]) + <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line">out &lt;&lt; line;</span><br><span class="line">Rfile.close();</span><br></pre></td></tr></table></figure>
<h3 id="Qt-Read-Write-Binary"><a href="#Qt-Read-Write-Binary" class="headerlink" title="Qt Read/Write Binary"></a>Qt Read/Write Binary</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">uchar* binBits= <span class="keyword">new</span> uchar[<span class="number">256</span> * <span class="number">256</span> * <span class="number">109</span>];</span><br><span class="line"><span class="keyword">int</span> dataLength = <span class="number">256</span>*<span class="number">256</span>*<span class="number">109</span>;</span><br><span class="line"></span><br><span class="line">FILE *outFile;</span><br><span class="line">outFile = fopen(<span class="string">"outFile.bin"</span>,<span class="string">"wb"</span>);</span><br><span class="line">fwrite(binBits,<span class="keyword">sizeof</span>(uchar)*dataLength,<span class="number">1</span>,outFile);</span><br><span class="line">fclose(outFile);</span><br><span class="line"></span><br><span class="line">FILE *inFile;</span><br><span class="line">inFile = fopen(<span class="string">"outFile.bin"</span>, <span class="string">"rb"</span>);</span><br><span class="line">uchar *check = <span class="keyword">new</span> uchar[dataLength];</span><br><span class="line">fread(check, <span class="keyword">sizeof</span>(uchar)*dataLength, <span class="number">1</span>, inFile);</span><br><span class="line">fclose(inFile);</span><br><span class="line">uchar *check2 = checkBits3D.bits();</span><br><span class="line"></span><br><span class="line"><span class="comment">//========以上步驟為讀寫binary檔案========</span></span><br><span class="line"><span class="comment">//========以下步驟為驗證binary檔案========</span></span><br><span class="line"><span class="keyword">int</span> length = <span class="number">256</span> * <span class="number">256</span>;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">256</span> * <span class="number">256</span>; i++) &#123;</span><br><span class="line">    check2[a] = binBits[<span class="number">0</span> * length + i];</span><br><span class="line">    check2[a + <span class="number">1</span>] = binBits[<span class="number">0</span> * length + i];</span><br><span class="line">    check2[a + <span class="number">2</span>] = binBits[<span class="number">0</span> * length + i];</span><br><span class="line">    a += <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line">a = <span class="number">0</span>;</span><br><span class="line">checkBits3D.save(<span class="string">"checkbinBits.png"</span>,<span class="string">"PNG"</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">256</span> * <span class="number">256</span> ; i++) &#123;</span><br><span class="line">    check2[a] = check[<span class="number">0</span> * length + i];</span><br><span class="line">    check2[a + <span class="number">1</span>] = check[<span class="number">0</span> * length + i + <span class="number">1</span>];</span><br><span class="line">    check2[a + <span class="number">2</span>] = check[<span class="number">0</span> * length + i + <span class="number">2</span>];</span><br><span class="line">    a += <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line">checkBits3D.save(<span class="string">"checkOutFile.png"</span>,<span class="string">"PNG"</span>);</span><br></pre></td></tr></table></figure>
<p>建新檔<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">readYOffset</span><span class="params">(QString filename)</span> </span>&#123; <span class="comment">//filename = xxx.csv</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;filename = filename;</span><br><span class="line">    currentPath = QDir::currentPath();</span><br><span class="line">    currentPath += <span class="string">'/'</span> + filename;</span><br><span class="line">    <span class="function">QFile <span class="title">file</span><span class="params">(currentPath)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!file.open(QIODevice::ReadOnly)) &#123;</span><br><span class="line">        qDebug()&lt;&lt;<span class="string">"Cannot Open File!"</span>;</span><br><span class="line">        file.open((QIODevice::WriteOnly)) ;</span><br><span class="line">        <span class="function">QTextStream <span class="title">out</span><span class="params">(&amp;file)</span></span>;</span><br><span class="line">        out &lt;&lt; <span class="string">"YOffset\n"</span>;</span><br><span class="line">        out &lt;&lt; <span class="number">0</span>;</span><br><span class="line">        file.close();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    data = file.readAll();</span><br><span class="line">    data.split(<span class="string">"\r\n"</span>);</span><br><span class="line">    yOffset = data.split(<span class="string">"\r\n"</span>)[<span class="number">1</span>].toInt();</span><br><span class="line">    qDebug()&lt;&lt;<span class="string">"yOffset:"</span>&lt;&lt;yOffset;</span><br><span class="line">    <span class="keyword">return</span> yOffset;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="C-Read-Write-Binary"><a href="#C-Read-Write-Binary" class="headerlink" title="C++ Read/Write Binary"></a>C++ Read/Write Binary</h3><p>istream &amp;read(char buf, streamsize num);</p>
<blockquote>
<p>istream::read<br>讀取物件.read(資料區塊的指標, 長度);</p>
</blockquote>
<p>ostream &amp;write(const char buf, streamsize num);</p>
<blockquote>
<p>ostream::write<br>輸出物件.write(資料區塊的指標, 長度);</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt; </span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">ofstream <span class="title">fout</span><span class="params">(<span class="string">"teddybear.dat"</span>, ios::out | ios::binary)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!fout) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> arr[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    fout.write((<span class="keyword">char</span>*)arr, <span class="keyword">sizeof</span>(arr));</span><br><span class="line">    fout.close();</span><br><span class="line"></span><br><span class="line">    <span class="function">ifstream <span class="title">fin</span><span class="params">(<span class="string">"teddybear.dat"</span>, ios::in | ios::binary)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!fin) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> arr2[<span class="number">3</span>] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    fin.read((<span class="keyword">char</span>*)arr2, <span class="keyword">sizeof</span>(arr2));</span><br><span class="line">    fin.close();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="C-Read-Write-Binary-1"><a href="#C-Read-Write-Binary-1" class="headerlink" title="C Read/Write Binary"></a>C Read/Write Binary</h3><p>區塊 I/O 函式fwrite</p>
<blockquote>
<p>int fread(char <em>buffer, int size, int count, FILE </em>fp);<br>buffer 參數為讀入的資料所要存放的地方，size是指讀入的每一筆資料長度（byte），count 是指讀入的筆數<br>int fwrite(char <em>buffer, int size, int count, FILE </em>fp);<br>buffer 參數為寫入的資料所要存放的地方，size是指讀入的每一筆資料長度（byte），count 是指讀入的筆數</p>
</blockquote>
<p>Example_1<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">    FILE *file = fopen(<span class="string">"temp"</span>, <span class="string">"wb"</span>);</span><br><span class="line">    <span class="keyword">if</span>(!file) &#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"Can't open file!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    fwrite((<span class="keyword">char</span>*) arr, <span class="keyword">sizeof</span>(arr), <span class="number">1</span>, file);</span><br><span class="line">    fclose(file);</span><br><span class="line"></span><br><span class="line">    file = fopen(<span class="string">"temp"</span>, <span class="string">"rb"</span>);</span><br><span class="line">    <span class="keyword">if</span>(!file) &#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"Can't open file!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fread((<span class="keyword">char</span>*) arr, <span class="keyword">sizeof</span>(arr), <span class="number">1</span>, file);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"arr: "</span>);</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line"></span><br><span class="line">    fclose(file);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Example_2<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt; stdio.h &gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> data[N];	</span><br><span class="line">	<span class="keyword">int</span> get[N];</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	FILE *file=fopen(<span class="string">"data.bin"</span>,<span class="string">"wb"</span>); <span class="comment">//開啟檔案來寫</span></span><br><span class="line">	<span class="keyword">for</span> ( i=<span class="number">0</span>; i &lt; N; i++ )</span><br><span class="line">	&#123;</span><br><span class="line">		data[i]=i;</span><br><span class="line">	&#125;</span><br><span class="line">	fwrite(data,<span class="keyword">sizeof</span>(<span class="keyword">int</span>),N,file);</span><br><span class="line">	<span class="comment">// fwrite可以一次把數個bytes的資料寫入檔案</span></span><br><span class="line">	fclose(file);</span><br><span class="line"></span><br><span class="line">	file=fopen(<span class="string">"data.bin"</span>,<span class="string">"rb"</span>); <span class="comment">// 開啟檔案來讀</span></span><br><span class="line">	fread(get, <span class="keyword">sizeof</span>(<span class="keyword">int</span>),N,file);</span><br><span class="line">	<span class="comment">// fread可以一次把數個bytes的資料讀入記憶體中</span></span><br><span class="line">	<span class="keyword">for</span> ( i=<span class="number">0</span>; i &lt; N; i++ )</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>,get[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	fclose(file);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="讀檔"><a href="#讀檔" class="headerlink" title="讀檔"></a>讀檔</h2><h3 id="Qt將資料夾所有特定檔案讀出-例如所有-csv"><a href="#Qt將資料夾所有特定檔案讀出-例如所有-csv" class="headerlink" title="Qt將資料夾所有特定檔案讀出(例如所有.csv)"></a>Qt將資料夾所有特定檔案讀出(例如所有.csv)</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CSVReader::traverse(<span class="keyword">const</span> QString &amp;pattern, <span class="keyword">const</span> QString &amp;dirname, <span class="keyword">int</span> level)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">QDir <span class="title">dir</span><span class="params">(dirname)</span></span>;</span><br><span class="line">    dir.setFilter(QDir::Dirs | QDir::Files | QDir::NoSymLinks | QDir::NoDot | QDir::NoDotDot);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> QStringList stringList = pattern.split(<span class="string">'/'</span>);</span><br><span class="line">    foreach (QFileInfo fileInfo, dir.entryInfoList(stringList.mid(level, <span class="number">1</span>))) &#123;</span><br><span class="line">        <span class="keyword">if</span> (fileInfo.isDir() &amp;&amp; fileInfo.isReadable())</span><br><span class="line">            traverse(pattern, fileInfo.filePath(), level+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (stringList.size() == (level + <span class="number">1</span>))</span><br><span class="line">            qDebug() &lt;&lt; fileInfo.filePath();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    traverse(<span class="string">"*/*.csv"</span>, <span class="string">"."</span>, <span class="number">0</span>); <span class="comment">//讀所有資料夾內是否有csv檔</span></span><br><span class="line">    traverse(<span class="string">"ProgramData/*.csv"</span>, <span class="string">"."</span>, <span class="number">0</span>); <span class="comment">//讀ProgramData資料夾內是否有csv檔</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output情況:<br>“./ProgramData/Program_01.csv”<br>“./ProgramData/Program_02.csv”<br>“./ProgramData/Program_03.csv”<br>“./ProgramData/Program_04.csv”</p>
<h3 id="Qt剖析CSV"><a href="#Qt剖析CSV" class="headerlink" title="Qt剖析CSV"></a>Qt剖析CSV</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QFile&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QStringList&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QGuiApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QDir&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> VIEWLOG true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> CSVReader::parsing() &#123;</span><br><span class="line">    QString fileName;</span><br><span class="line">    QString currentPath;</span><br><span class="line">    QString data;	 <span class="comment">//用來接收檔案中所有內容</span></span><br><span class="line">    QString str;        <span class="comment">//用來接收需要的值</span></span><br><span class="line">    QStringList <span class="built_in">list</span>;	 <span class="comment">//用來接收data   以"行"為單位切割後的值</span></span><br><span class="line">    QStringList listval;<span class="comment">//用來接收list  以"個"為單位切割後的值</span></span><br><span class="line">    </span><br><span class="line">    fileName = <span class="string">"Program_01.csv"</span>;</span><br><span class="line">    currentPath = QDir::currentPath();</span><br><span class="line">    currentPath += <span class="string">"/ProgramData/"</span> +fileName;</span><br><span class="line">    <span class="function">QFile <span class="title">file</span><span class="params">(currentPath)</span></span>;            <span class="comment">//讀取檔案</span></span><br><span class="line">    <span class="keyword">if</span>(!file.open(QIODevice::ReadOnly))&#123;<span class="comment">//若開檔失敗則顯示錯誤訊息</span></span><br><span class="line">        qDebug() &lt;&lt; <span class="string">"Cannot open file!"</span> ;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    data = file.readAll();		  <span class="comment">//用來接收file檔案中的所有內容</span></span><br><span class="line">    <span class="built_in">list</span> = data.split(<span class="string">"\r\n"</span>);	          <span class="comment">//切割以"行"為單位存入list中</span></span><br><span class="line">    <span class="comment">//if (VIEWLOG)</span></span><br><span class="line">        <span class="comment">//qDebug()&lt;&lt;"list: "&lt;&lt;list &lt;&lt;"\nlist.count(): "&lt;&lt;list.count();</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>.count()<span class="number">-1</span> ;i++)&#123;	<span class="comment">//執行list.count()-1組迴圈 (代表有幾"行")</span></span><br><span class="line">        listval = <span class="built_in">list</span>.at(i).split(<span class="string">","</span>); <span class="comment">//存入整行中的值 並以","劃分開來</span></span><br><span class="line">        <span class="comment">//if (VIEWLOG)</span></span><br><span class="line">            <span class="comment">//qDebug()&lt;&lt;"listval: "&lt;&lt;listval;</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        listval.at(i)</span></span><br><span class="line"><span class="comment">        dosomething...</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">    file.close();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="高彈性的讀取方式"><a href="#高彈性的讀取方式" class="headerlink" title="高彈性的讀取方式"></a>高彈性的讀取方式</h3><p>將上述的讀取資料檔案路徑與剖析資料結合<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//單一檔案讀取剖析</span></span><br><span class="line"><span class="keyword">void</span> CSVReader::read(QString filename) &#123;</span><br><span class="line">    parse(filename);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//將某個資料夾內特定檔案讀取剖析</span></span><br><span class="line"><span class="keyword">void</span> CSVReader::readAll(QString directory) &#123;</span><br><span class="line">    traverse( directory + <span class="string">"/*.csv"</span>, <span class="string">"."</span>, <span class="number">0</span>);</span><br><span class="line">    fileNumbers = fileNames.length();</span><br><span class="line">    <span class="keyword">if</span> (VIEWLOG) &#123;</span><br><span class="line">        qDebug() &lt;&lt; <span class="string">"fileNames"</span>&lt;&lt;fileNames;</span><br><span class="line">        qDebug() &lt;&lt; <span class="string">"fileNumbers"</span>&lt;&lt;fileNumbers;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; fileNumbers ; i++) &#123;</span><br><span class="line">        parse(fileNames[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>參考資料:</p>
<p>讀寫二進位相關:<br><a href="http://monkeycoding.com/?p=956" target="_blank" rel="noopener">阿洲的程式教學二進位檔案操作(read、write)</a><br><a href="https://openhome.cc/Gossip/CppGossip/BinaryFileIO.html" target="_blank" rel="noopener">二進位檔案I/O - OpenHome.cc</a><br><a href="https://blog.xuite.net/fredxxx123/wretch/93422509-%E6%AA%94%E6%A1%88%E8%BC%B8%E5%85%A5%E8%88%87%E8%BC%B8%E5%87%BA%EF%BC%88%E4%B8%8B%EF%BC%89" target="_blank" rel="noopener">檔案輸入與輸出（下） @ NaCl :: 隨意窩Xuite日誌</a><br><a href="https://www.cmlab.csie.ntu.edu.tw/~perng/course/chap8/chap8.html" target="_blank" rel="noopener">第八章:檔案 - CMLab</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://teddybearfp.github.io/2018/11/06/讀寫檔/" data-id="cjt4euoqw0055ng7kkv5k6hrf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/read-write/">read/write</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/讀寫檔/">讀寫檔</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/11/07/Ptt爬蟲/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Python 爬蟲幫你精選PTT文章!(靜態頁面爬取)
        
      </div>
    </a>
  
  
    <a href="/2018/11/04/型態轉換/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">型態轉換</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Note/">Note</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OpenCV/">OpenCV</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OpenGL/">OpenGL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Qt/">Qt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows-API/">Windows API</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/架構/">架構</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/綜合/">綜合</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/3D/">3D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CMake/">CMake</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas畫圖/">Canvas畫圖</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DLL/">DLL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Focus/">Focus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GLSL/">GLSL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/">LeetCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LineBot/">LineBot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NSIS/">NSIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Normalize/">Normalize</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenCV/">OpenCV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenGL/">OpenGL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenGL著色器/">OpenGL著色器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QEvent/">QEvent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QImage/">QImage</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QPainter/">QPainter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QThread/">QThread</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Qt/">Qt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/StateMachine/">StateMachine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UAC/">UAC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/USB傳輸型態/">USB傳輸型態</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Volume-Rendering/">Volume Rendering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WinToGo/">WinToGo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows-API/">Windows API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/beginthreadex/">_beginthreadex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/clock/">clock</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradient/">gradient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/read-write/">read/write</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rufus/">rufus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shader/">shader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/事件重寫/">事件重寫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/優質小工具/">優質小工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/共享資料夾/">共享資料夾</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分散式爬蟲/">分散式爬蟲</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/動態網頁爬取/">動態網頁爬取</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/動態連結函式庫/">動態連結函式庫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/單例模式/">單例模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/型態轉換/">型態轉換</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/執行緒/">執行緒</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/壓力測試/">壓力測試</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/換頁機制/">換頁機制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/換頁爬取/">換頁爬取</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/梯度/">梯度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/步進馬達/">步進馬達</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/清晰度/">清晰度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/滑鼠事件/">滑鼠事件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬蟲/">爬蟲</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/環境架設/">環境架設</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程式間溝通/">程式間溝通</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/網頁爬蟲/">網頁爬蟲</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/編譯流程/">編譯流程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虛擬鍵盤/">虛擬鍵盤</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/計時器/">計時器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/讀寫檔/">讀寫檔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邊緣偵測/">邊緣偵測</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/靜態網頁爬取/">靜態網頁爬取</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/3D/" style="font-size: 10px;">3D</a> <a href="/tags/C/" style="font-size: 16.67px;">C++</a> <a href="/tags/CMake/" style="font-size: 10px;">CMake</a> <a href="/tags/Canvas畫圖/" style="font-size: 10px;">Canvas畫圖</a> <a href="/tags/DLL/" style="font-size: 10px;">DLL</a> <a href="/tags/Focus/" style="font-size: 10px;">Focus</a> <a href="/tags/GLSL/" style="font-size: 10px;">GLSL</a> <a href="/tags/LeetCode/" style="font-size: 10px;">LeetCode</a> <a href="/tags/LineBot/" style="font-size: 10px;">LineBot</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/NSIS/" style="font-size: 10px;">NSIS</a> <a href="/tags/Normalize/" style="font-size: 10px;">Normalize</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/OpenGL/" style="font-size: 10px;">OpenGL</a> <a href="/tags/OpenGL著色器/" style="font-size: 10px;">OpenGL著色器</a> <a href="/tags/Python/" style="font-size: 16.67px;">Python</a> <a href="/tags/QEvent/" style="font-size: 10px;">QEvent</a> <a href="/tags/QImage/" style="font-size: 10px;">QImage</a> <a href="/tags/QPainter/" style="font-size: 10px;">QPainter</a> <a href="/tags/QThread/" style="font-size: 10px;">QThread</a> <a href="/tags/Qt/" style="font-size: 20px;">Qt</a> <a href="/tags/StateMachine/" style="font-size: 10px;">StateMachine</a> <a href="/tags/UAC/" style="font-size: 10px;">UAC</a> <a href="/tags/USB傳輸型態/" style="font-size: 10px;">USB傳輸型態</a> <a href="/tags/Volume-Rendering/" style="font-size: 10px;">Volume Rendering</a> <a href="/tags/WinToGo/" style="font-size: 10px;">WinToGo</a> <a href="/tags/Windows-API/" style="font-size: 13.33px;">Windows API</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/beginthreadex/" style="font-size: 10px;">_beginthreadex</a> <a href="/tags/clock/" style="font-size: 10px;">clock</a> <a href="/tags/gradient/" style="font-size: 10px;">gradient</a> <a href="/tags/heroku/" style="font-size: 10px;">heroku</a> <a href="/tags/read-write/" style="font-size: 10px;">read/write</a> <a href="/tags/rufus/" style="font-size: 10px;">rufus</a> <a href="/tags/shader/" style="font-size: 10px;">shader</a> <a href="/tags/事件重寫/" style="font-size: 10px;">事件重寫</a> <a href="/tags/優質小工具/" style="font-size: 10px;">優質小工具</a> <a href="/tags/共享資料夾/" style="font-size: 10px;">共享資料夾</a> <a href="/tags/分散式爬蟲/" style="font-size: 10px;">分散式爬蟲</a> <a href="/tags/動態網頁爬取/" style="font-size: 10px;">動態網頁爬取</a> <a href="/tags/動態連結函式庫/" style="font-size: 10px;">動態連結函式庫</a> <a href="/tags/單例模式/" style="font-size: 10px;">單例模式</a> <a href="/tags/型態轉換/" style="font-size: 10px;">型態轉換</a> <a href="/tags/執行緒/" style="font-size: 10px;">執行緒</a> <a href="/tags/壓力測試/" style="font-size: 10px;">壓力測試</a> <a href="/tags/換頁機制/" style="font-size: 10px;">換頁機制</a> <a href="/tags/換頁爬取/" style="font-size: 10px;">換頁爬取</a> <a href="/tags/梯度/" style="font-size: 10px;">梯度</a> <a href="/tags/步進馬達/" style="font-size: 10px;">步進馬達</a> <a href="/tags/清晰度/" style="font-size: 10px;">清晰度</a> <a href="/tags/滑鼠事件/" style="font-size: 10px;">滑鼠事件</a> <a href="/tags/爬蟲/" style="font-size: 13.33px;">爬蟲</a> <a href="/tags/環境架設/" style="font-size: 13.33px;">環境架設</a> <a href="/tags/程式間溝通/" style="font-size: 10px;">程式間溝通</a> <a href="/tags/網頁爬蟲/" style="font-size: 10px;">網頁爬蟲</a> <a href="/tags/編譯流程/" style="font-size: 10px;">編譯流程</a> <a href="/tags/虛擬鍵盤/" style="font-size: 10px;">虛擬鍵盤</a> <a href="/tags/計時器/" style="font-size: 10px;">計時器</a> <a href="/tags/讀寫檔/" style="font-size: 10px;">讀寫檔</a> <a href="/tags/邊緣偵測/" style="font-size: 10px;">邊緣偵測</a> <a href="/tags/靜態網頁爬取/" style="font-size: 10px;">靜態網頁爬取</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/04/LeetCode/">LeetCode 筆記</a>
          </li>
        
          <li>
            <a href="/2019/02/26/StateMachine/">StateMachine 狀態機</a>
          </li>
        
          <li>
            <a href="/2019/02/20/USB傳輸型態-USB-Data-Transfer-Types/">USB傳輸型態</a>
          </li>
        
          <li>
            <a href="/2019/02/01/用NSIS製作軟體安裝程式/">用NSIS製作軟體安裝程式</a>
          </li>
        
          <li>
            <a href="/2019/01/31/Python-爬取學術網頁PDF/">Python 爬取Google學術網頁PDF</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 G.C.L.<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>